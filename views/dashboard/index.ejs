<!-- views/dashboard/index.ejs -->
<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head', { title: 'Dashboard' }) %>
<body>
  <div class="page">
    <!-- Include navbar and sidebar instead of header and navigation -->
    <%- include('../partials/navbar') %>
    <%- include('../partials/sidebar') %>
    
    <div class="page-wrapper">
      <div class="container-xl">
        <div class="page-header d-print-none">
          <div class="row align-items-center">
            <div class="col">
              <h2 class="page-title">Dashboard</h2>
            </div>
          </div>
        </div>
      </div>
      
      <div class="page-body">
        <div class="container-xl">
          <!-- Flash messages -->
          <%- include('../partials/messages') %>
          
          <!-- Welcome Card -->
          <div class="col-12 mb-3">
            <div class="card card-md">
              <div class="card-stamp card-stamp-lg">
                <div class="card-stamp-icon bg-primary">
                  <i class="ti ti-user"></i>
                </div>
              </div>
              <div class="card-body">
                <div class="row align-items-center">
                  <div class="col-10">
                    <h3 class="h1">Welcome, <%= user.username %></h3>
                    <div class="markdown text-muted">
                      You are logged in as <strong><%= user.role.charAt(0).toUpperCase() + user.role.slice(1) %></strong>. Use the navigation to access various features of the College ERP System.
                    </div>
                    <div class="mt-3">
                      <a href="/profile" class="btn btn-primary">View Profile</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Role-specific dashboard content -->
          <% if (user.role === 'admin') { %>
            <div class="row row-deck row-cards">
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">Total Users</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">-</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">Total Students</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">-</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">Total Faculty</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">-</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">Departments</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">-</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% } else if (user.role === 'faculty' || user.role === 'hod') { %>
            <div class="row row-deck row-cards">
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">My Courses</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">-</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">Today's Classes</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">-</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% } else if (user.role === 'student') { %>
            <div class="row row-deck row-cards">
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">My Courses</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">-</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">Today's Classes</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">-</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">Attendance</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-0 me-2">-</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <% } %>
          
          <!-- Quick Actions and Notifications -->
          <div class="row row-deck row-cards mt-3">
            <div class="col-md-6 col-lg-4">
              <div class="card">
                <div class="card-header">
                  <h3 class="card-title">Quick Actions</h3>
                </div>
                <div class="list-group list-group-flush">
                  <a href="/profile" class="list-group-item list-group-item-action">
                    <div class="row align-items-center">
                      <div class="col-auto"><i class="ti ti-user text-blue"></i></div>
                      <div class="col">My Profile</div>
                    </div>
                  </a>
                  
                  <% if (user.role === 'admin') { %>
                    <a href="/admin/users" class="list-group-item list-group-item-action">
                      <div class="row align-items-center">
                        <div class="col-auto"><i class="ti ti-users text-blue"></i></div>
                        <div class="col">Manage Users</div>
                      </div>
                    </a>
                    <a href="/students" class="list-group-item list-group-item-action">
                      <div class="row align-items-center">
                        <div class="col-auto"><i class="ti ti-user-search text-blue"></i></div>
                        <div class="col">View Students</div>
                      </div>
                    </a>
                  <% } %>
                  
                  <% if (user.role === 'faculty' || user.role === 'hod') { %>
                    <a href="/students" class="list-group-item list-group-item-action">
                      <div class="row align-items-center">
                        <div class="col-auto"><i class="ti ti-users text-blue"></i></div>
                        <div class="col">View Students</div>
                      </div>
                    </a>
                  <% } %>
                </div>
              </div>
            </div>
            
            <div class="col-md-6 col-lg-8">
              <div class="card">
                <div class="card-header">
                  <h3 class="card-title">Notifications</h3>
                </div>
                <div class="list-group list-group-flush">
                  <div class="list-group-item">
                    <div class="row align-items-center">
                      <div class="col text-truncate">
                        <div class="d-block text-muted mt-n1">
                          No new notifications
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <%- include('../partials/footer') %>
    </div>
  </div>
  
  <%- include('../partials/scripts') %>
</body>
</html>